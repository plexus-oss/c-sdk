; PlatformIO CI Build Environments for Plexus C SDK
;
; These environments verify cross-compilation for supported targets.
; CI uses `pio ci` with explicit flags per job (see .github/workflows/ci.yml).
; This file is also useful for local development.
;
; Usage:
;   pio ci examples/arduino_basic/plexus_example.ino --lib=. --board=esp32dev
;   pio ci examples/arduino_basic/plexus_example.ino --lib=. --board=nodemcuv2

[env]
build_flags =
    -DPLEXUS_MAX_METRICS=32
    -DPLEXUS_JSON_BUFFER_SIZE=2048

[env:esp32-arduino]
platform = espressif32
board = esp32dev
framework = arduino
build_flags =
    ${env.build_flags}

[env:esp8266-arduino]
platform = espressif8266
board = nodemcuv2
framework = arduino
build_flags =
    ${env.build_flags}

[env:stm32]
platform = ststm32
board = nucleo_f446re
framework = stm32cube
build_flags =
    ${env.build_flags}
    -DSTM32F4
    -DSTM32_HAL
